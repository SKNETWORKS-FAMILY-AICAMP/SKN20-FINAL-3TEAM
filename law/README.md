# 토지 규제 데이터베이스

토지이용규제 정보를 sLLM에서 활용하기 위한 전처리된 데이터셋

## 폴더 구조

```
law/
├── zones/                          # 용도지역별 규제 기준 (21개)
│   ├── 일반상업지역.json
│   ├── 제1종전용주거지역.json
│   └── ...
│
├── laws/                           # 법령 조문 전문 (7개)
│   ├── 건축법.json
│   ├── 국토의계획및이용에관한법률시행령.json
│   └── ...
│
├── regulation_index.json           # 전체 인덱스 (목차)
│
├── eum_land_collector.py           # 토지이음 데이터 수집기
├── build_regulation_db.py          # 규제 DB 구축 스크립트
├── parse_building_restrictions.py  # 건축불가 목록 파싱 스크립트
└── README.md
```

## 데이터 설명

### zones/ - 용도지역별 규제 기준

**용도:** 도면 검증 시 "이 지역에서 이 건물 지을 수 있나?" 판정용

```json
{
  "용도지역": "일반상업지역",
  "용도지역코드": "UQA220",

  "기준값": {
    "건폐율_max": 80,          // 법정 최대 건폐율 (%)
    "용적률_max": 1300,        // 법정 최대 용적률 (%)
    "건폐율_토지이음": "60%",   // 서울시 기준
    "용적률_토지이음": "800%"
  },

  "건축불가_용도": [            // 이 지역에 못 짓는 건물
    "공장",
    "단독주택",
    "공동주택",
    "위락시설",
    "숙박시설",
    ...
  ],

  "건축불가_상세": {
    "절대_불가": [...],        // 무조건 건축 불가
    "조례_불가": [...]         // 지자체 조례에 따라 불가
  },

  "관련법령": [                 // 참조용 (조문 전문은 laws/에)
    {"법령명": "건축법", "조항": "제44조"},
    {"법령명": "국토계획법 시행령", "조항": "제71조"}
  ]
}
```

### laws/ - 법령 조문 전문

**용도:** "왜 안 되나요?" 질문에 법적 근거 제시용

```json
{
  "법령명": "건축법",
  "조항들": [
    {
      "조항": "제44조",
      "조문_전문": "제44조(대지와 도로의 관계) ① 건축물의 대지는 2미터 이상이 도로에...",
      "요약": null  // LLM으로 요약 추가 가능
    }
  ]
}
```

## 사용 방법

### 1. 데이터 수집 (최초 1회)

```bash
# 용도지역 + 법령 데이터 수집
python build_regulation_db.py

# 건축불가 목록 파싱 (별도 실행)
python parse_building_restrictions.py
```

### 2. 코드에서 사용

```python
import json

# 용도지역 규제 로드
with open("zones/일반상업지역.json", encoding="utf-8") as f:
    규제 = json.load(f)

# 도면 정보 (Vision LLM 등으로 추출)
도면 = {
    "용도": "공장",
    "건폐율": 55,
    "용적률": 650
}

# 판정
def check_building(도면, 규제):
    결과 = {"적합": True, "사유": []}

    # 용도 확인
    if 도면["용도"] in 규제["건축불가_용도"]:
        결과["적합"] = False
        결과["사유"].append(f"{도면['용도']}은(는) 건축 불가")

    # 건폐율 확인
    if 도면["건폐율"] > 규제["기준값"]["건폐율_max"]:
        결과["적합"] = False
        결과["사유"].append(f"건폐율 초과 ({도면['건폐율']}% > {규제['기준값']['건폐율_max']}%)")

    # 용적률 확인
    if 도면["용적률"] > 규제["기준값"]["용적률_max"]:
        결과["적합"] = False
        결과["사유"].append(f"용적률 초과")

    return 결과

결과 = check_building(도면, 규제)
print(결과)
# {'적합': False, '사유': ['공장은(는) 건축 불가']}
```

### 3. 법령 근거 검색

```python
# 법령 조문 로드
with open("laws/건축법.json", encoding="utf-8") as f:
    법령 = json.load(f)

# 특정 조항 찾기
def find_article(법령, 조항):
    for item in 법령["조항들"]:
        if item["조항"] == 조항:
            return item["조문_전문"]
    return None

조문 = find_article(법령, "제44조")
print(조문)
# "제44조(대지와 도로의 관계) ① 건축물의 대지는 2미터 이상이..."
```

## 용도지역 목록 (21개)

| 구분 | 용도지역 | 코드 | 건폐율 | 용적률 |
|------|----------|------|--------|--------|
| 주거 | 제1종전용주거지역 | UQA110 | 50% | 100% |
| 주거 | 제2종전용주거지역 | UQA120 | 50% | 150% |
| 주거 | 제1종일반주거지역 | UQA130 | 60% | 200% |
| 주거 | 제2종일반주거지역 | UQA140 | 60% | 250% |
| 주거 | 제3종일반주거지역 | UQA150 | 50% | 300% |
| 주거 | 준주거지역 | UQA160 | 70% | 500% |
| 상업 | 중심상업지역 | UQA210 | 90% | 1500% |
| 상업 | 일반상업지역 | UQA220 | 80% | 1300% |
| 상업 | 근린상업지역 | UQA230 | 70% | 900% |
| 상업 | 유통상업지역 | UQA240 | 80% | 1100% |
| 공업 | 전용공업지역 | UQA310 | 70% | 300% |
| 공업 | 일반공업지역 | UQA320 | 70% | 350% |
| 공업 | 준공업지역 | UQA330 | 70% | 400% |
| 녹지 | 보전녹지지역 | UQA410 | 20% | 80% |
| 녹지 | 생산녹지지역 | UQA420 | 20% | 100% |
| 녹지 | 자연녹지지역 | UQA430 | 20% | 100% |
| 관리 | 보전관리지역 | UQA510 | 20% | 80% |
| 관리 | 생산관리지역 | UQA520 | 20% | 80% |
| 관리 | 계획관리지역 | UQA530 | 40% | 100% |
| 기타 | 농림지역 | UQA600 | 20% | 80% |
| 기타 | 자연환경보전지역 | UQA700 | 20% | 80% |

## sLLM 연동 흐름

```
[사용자 질의]
"강남역 근처에 공장 지을 수 있어?"
     │
     ▼
[1단계: 토지 정보 조회]
토지이음 API → 용도지역 확인 (일반상업지역)
     │
     ▼
[2단계: 규제 데이터 로드]
zones/일반상업지역.json 로드
     │
     ▼
[3단계: 판정]
"공장" in 건축불가_용도 → True → 불가
     │
     ▼
[4단계: 근거 검색] (부적합시)
laws/국토계획법시행령.json → 별표9 조문
     │
     ▼
[5단계: 응답 생성]
"일반상업지역에서 공장은 건축할 수 없습니다.
 근거: 국토계획법 시행령 별표9"
```

## 데이터 출처

- **토지이음** (eum.go.kr): 토지이용계획, 규제 정보
- **국가법령정보센터** (law.go.kr): 법령 조문 전문

## 주의사항

- 건폐율/용적률은 **법정 최대치**입니다. 지자체 조례로 더 낮게 제한될 수 있습니다.
- 서울시 기준 데이터입니다. 다른 지역은 조례가 다를 수 있습니다.
- 법령은 수시로 개정됩니다. 실제 업무에는 최신 법령을 확인하세요.
